---
title: "Introduction"
description: "Get started with the Nevermined Payments API for AI-native monetization"
---

<Note>
  This section introduces the Nevermined Payments API: a TypeScript-first system for registering agents, configuring payment plans, handling subscriber access, and enforcing credit-based billing. All endpoints are available via direct function calls through the `Payments` client.
</Note>

## Overview

Nevermined provides a modular, programmable API that enables AI Builders to:

- Register autonomous agents with metadata and HTTP endpoints
- Create flexible fiat/crypto-based payment plans
- Manage subscriptions using credits
- Enforce usage-based access with secure metering and redemption
- Enable agent-to-agent or human-to-agent transactions

The API is designed for high-frequency use, real-time authorization, and deep integration into backend agent logic or proxy infrastructure.

---

## Setup

Supported environments:

- `sandbox` - Public testing environment
- `live` - Public production environment
- `custom` - Custom environment with manual configuration (any EVM-compatible network)

Initialize the Payments API:

```ts
import { Payments } from '@nevermined-io/payments'

const payments = Payments.getInstance({
  nvmApiKey: process.env.NVM_API_KEY,
      environment: 'live' // Or 'sandbox' for testing
})
```

⸻

## Core Capabilities

### Register an Agent and Plan

```ts
const agentMetadata = {
  name: 'Legal Assistant',
  tags: ['legal', 'ai'],
  dateCreated: new Date()
}

const agentApi = {
  endpoints: [{ POST: 'https://yourdomain.com/api/query' }]
}

import { getERC20PriceConfig, getExpirableDurationConfig } from '@nevermined-io/payments'
import { ONE_MONTH_DURATION } from '@nevermined-io/payments'

const planMetadata = {
  name: 'Legal Assistant Plan',
  description: 'Monthly subscription plan'
}

const priceConfig = getERC20PriceConfig(10_000_000n, USDC_ADDRESS, builderAddress)
const creditsConfig = getExpirableDurationConfig(ONE_MONTH_DURATION)

const { agentId, planId } = await payments.agents.registerAgentAndPlan(
  agentMetadata,
  agentApi,
  planMetadata,
  priceConfig,
  creditsConfig,
  'time' // Optional: accessLimit ('credits' or 'time')
)
```

---

## Enforce Access and Redeem Credits

When receiving a request to your agent:

```ts
const isValid = await payments.isValidRequest(
  planId,
  agentId,
  subscriberAddress,
  request.headers['x-nvm-query-signature']
)

if (!isValid) {
  const paymentCard = await payments.getAgentPaymentCard(agentId)
  return res.status(402).send(paymentCard)
}

// Run the AI logic and redeem usage
await payments.redeemCredits(planId, 5n, proof)
```

⸻

## API Authentication

All API operations require an nvmApiKey, which you can generate from the Nevermined App.

Authentication occurs at the time of instantiating Payments.getInstance() and is required for all calls to register, validate, or query.

⸻

## Start Exploring

<CardGroup cols={2}>
  <Card title="Register Agents & Plans" icon="brain" href="/docs/api-reference/endpoint/create">
    Publish metadata and register endpoints for your AI agent.
  </Card>
  <Card title="Order Plans" icon="credit-card" href="/docs/api-reference/endpoint/order">
    Enable subscribers to purchase your payment plans.
  </Card>
  <Card title="Query Agents" icon="code" href="/docs/api-reference/endpoint/query">
    Query agents with valid access and enforce credit redemption.
  </Card>
  <Card title="Redeem Credits" icon="coins" href="/docs/api-reference/endpoint/redeem">
    Programmatically burn credits based on request usage.
  </Card>
</CardGroup>