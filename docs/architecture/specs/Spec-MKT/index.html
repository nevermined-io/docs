<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/specs/Spec-MKT" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Marketplace API | Nevermined Core Protocol Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.nevermined.io/docs/architecture/specs/Spec-MKT"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Marketplace API | Nevermined Core Protocol Documentation"><meta data-rh="true" name="description" content="Marketplace API"><meta data-rh="true" property="og:description" content="Marketplace API"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.nevermined.io/docs/architecture/specs/Spec-MKT"><link data-rh="true" rel="alternate" href="https://docs.nevermined.io/docs/architecture/specs/Spec-MKT" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.nevermined.io/docs/architecture/specs/Spec-MKT" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://IB2HKPUD05-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Nevermined Core Protocol Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Nevermined Core Protocol Documentation Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S70X8HQFLP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S70X8HQFLP",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Nevermined Core Protocol Documentation" href="/opensearch.xml">


<link rel="stylesheet" href="/lib/nvm-one-widget.css"><link rel="stylesheet" href="/assets/css/styles.13998e36.css">
<link rel="preload" href="/assets/js/runtime~main.6d8473ed.js" as="script">
<link rel="preload" href="/assets/js/main.abf2f6bf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/nevermined/nevermined_logo.svg" alt="Nevermined Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/nevermined/nevermined_logo.svg" alt="Nevermined Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/docs/getting-started">Getting Started</a><a class="navbar__item navbar__link" href="/docs/nevermined-sdk/getting-started">SDK</a><a class="navbar__item navbar__link" href="/docs/tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/GZju2qScKq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><img src="/nevermined/discord-gray.svg" alt="Discord" class="discord"></a><a href="https://github.com/nevermined-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><img src="/nevermined/github-gray.svg" alt="Github" class="github"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started/">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/nevermined-sdk/intro">Nevermined SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;Nevermined SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cli/">CLI</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/environments/">Environments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Environments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/architecture/">Protocol Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Protocol Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/what-can-i-do">What can I do with my assets?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/building-dapps">Building decentralized applications with Nevermined</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/building-blocks">Building Blocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/nevermined-data">Information available in Nevermined</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/architecture/contracts/">Smart Contracts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Smart Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/architecture/marketplace-api/">Marketplace API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Marketplace API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/architecture/specs/">Specs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Specs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-DID">Decentralized Identifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-METADATA">Metadata Ontology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-NFT">NFTs Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-ACCESS">Decentralized Access Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-COMPUTE">Data in situ Computation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-FL">Federated Learning Orchestration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-PROVENANCE">Decentralized Data Provenance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-DTP">Data transfer proofs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/architecture/specs/Spec-MKT">Marketplace API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/Spec-IDM">Identity management with on-chain access control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/specs/examples/">Nevermind Specs Examples</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/architecture/node/">Nevermined Node</a><button aria-label="Toggle the collapsible sidebar category &#x27;Nevermined Node&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/category/smart-contracts">components</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/architecture/"><span itemprop="name">Protocol Architecture</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/architecture/specs/"><span itemprop="name">Specs</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Marketplace API</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Marketplace API</h1><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">shortname:      MKT-API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name:           Nevermined Marketplace API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type:           Standard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status:         Draft</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version:        0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">editor:         Aitor Argomaniz &lt;aitor@nevermined.io&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contributors:   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This SPEC introduces a new API that helps to build Marketplace environments on top of the Nevermined core protocol.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">​</a></h2><p>With this Specification we want to build the foundations of an API that can be used as reference to implement
APIs exposing typical Marketplace functionalities.</p><p>Most of the Marketplaces (decentralized or not) expose some common functionalities around the assets they manage and
their users. The intention of this API is to normalize a common set of this functionalities, allowing to build
implementations providing this common functionalities.</p><p>With that objective in mind, the specification of this API should detail the following capabilities:</p><ul><li>Assets Management - Creation, Update, Deleting, etc. This is based in the existing <a href="/docs/architecture/specs/Spec-METADATA">Metadata Spec</a></li><li>Assets Search - Allowing the search and filtering of assets</li><li>Users Profile - Allowing to create, update and delete users</li><li>Secondary Market - Registering the negotiation of parties during a secondary market purchase</li><li>NFTs Metadata - Recording the metadata associated to a NFT</li><li>NFTs Drops - Management of NFT drops</li><li>User Reviews - Allowing users to comment and rate marketplace contents</li><li>Drops - Managing of NFT drops</li><li>Bookmarks - Allowing users to save bookmarks about different assets</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modules">Modules<a href="#modules" class="hash-link" aria-label="Direct link to Modules" title="Direct link to Modules">​</a></h2><p>The API will provide the following functionalities.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assets-management">Assets Management<a href="#assets-management" class="hash-link" aria-label="Direct link to Assets Management" title="Direct link to Assets Management">​</a></h3><p>The Assets in a Nevermined ecosystem are represented via DDOs that are resolved via a Decentralized Identifier (DID). While the DIDs are
unique identifiers stored on-chain, the metadata of an asset is represented by a DDO recorded in an external data storage (centralized or decentralized).
This DDO includes all the additional information describing an asset and the services attached to that asset (access, computation, etc.).</p><p>This module of the API allows the management of the assets information. The main functionalities provided are the following:</p><ul><li>Create a DDO of a new asset - <code>POST /api/v1/metadata/assets/ddo</code></li><li>Get the DDO of a particular asset - <code>GET /api/v1/metadata/assets/ddo/{did}</code></li><li>Update DDO of an existing asset - <code>PUT ​/api​/v1​/metadata​/assets​/ddo​/{did}</code></li><li>Delete an existing asset - <code>DELETE ​/api​/v1​/metadata​/assets​/ddo​/{did}</code></li></ul><p>The Creation, Update and Deletion of assets is authorized and <strong>only the asset owner and/or the application admin</strong> is allowed to do that action.</p><p>For more information about DID and/or DDO&#x27;s please refer to the <a href="/docs/architecture/specs/Spec-DID">DID SPEC: Decentralized Identifiers</a> and
<a href="/docs/architecture/specs/Spec-METADATA">META SPEC: Metadata Ontology</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assets-search">Assets Search<a href="#assets-search" class="hash-link" aria-label="Direct link to Assets Search" title="Direct link to Assets Search">​</a></h3><p>This module complements the previous one and provides search functionalities on top of the existing assets metadata. All the actions listed
here don&#x27;t require user authorization:</p><ul><li>Get all asset IDs - <code>GET ​/api​/v1​/metadata​/assets</code></li><li>Get DDO of all assets - <code>GET ​/api​/v1​/metadata​/assets​/ddo</code></li><li>Get a list of DDOs that match with the given text - <code>GET ​/api​/v1​/metadata​/assets​/ddo​/query</code></li><li>Get a list of DDOs that match with the executed query - <code>POST ​/api​/v1​/metadata​/assets​/ddo​/query</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="users-profiles">Users Profiles<a href="#users-profiles" class="hash-link" aria-label="Direct link to Users Profiles" title="Direct link to Users Profiles">​</a></h3><p>This module of the API allows the management of user profiles. The main functionalities provided are the following:</p><ul><li>Create a user profile - <code>POST /api/v1/metadata/profiles</code></li><li>Get the metadata of a user profile - <code>GET /api/v1/metadata/profiles/{userId}</code></li><li>Get the metadata of a user profile given an address - <code>GET /api/v1/metadata/profiles/address/{publicAddress}</code></li><li>Update the user profile - <code>PUT /api/v1/metadata/profiles/{userId}</code></li><li>Disable the user profile - <code>DELETE /api/v1/metadata/profiles/{userId}</code></li></ul><p>The Creation, Update and Deletion of profiles is authorized and <strong>only the profile owner and/or the application admin</strong> is allowed to do that action.</p><p>The model of this API is the following:</p><ul><li><code>userId</code> - Unique identifier of the user</li><li><code>isListed</code> - Flag identifying if the user is listed in the marketplace. Possible values: <code>true</code> or <code>false</code></li><li><code>state</code> - State of the user in the marketplace. Possible options: <code>disabled</code>, <code>unconfirmed</code>, <code>confirmed</code></li><li><code>addresses</code> - The list of the addressed owned by the user. Addresses can&#x27;t be shared between different users.</li><li><code>nickname</code> - The nickname of the user</li><li><code>name</code> - The name of the user (optional)</li><li><code>email</code> - The email of the user (optional)</li><li><code>url</code> - The url of the user (optional)</li><li><code>creationDate</code> - When the user information was created</li><li><code>updateDate</code> - When was the last time the user information was updated</li><li><code>additionalInformation</code> - List of additional key-value attributes with additional information</li></ul><p>Here an example of the the permissions document:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jifdwqejidqwa9okdasodkaso&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;isListed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;state&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;confirmed&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;addresses&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0x37BB53e3d293494DE59fBe1FF78500423dcFd43B&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;nickname&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john.doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John Doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john.doe@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;creationDate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-01-01T19:73:24Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;updateDate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-01-01T19:73:24Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;additionalInformation&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;profilePicture&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://example.com/avatar.jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;linkedinProfile&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://linkedin.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissions">Permissions<a href="#permissions" class="hash-link" aria-label="Direct link to Permissions" title="Direct link to Permissions">​</a></h3><p>This module of the API allows the management of user permissions in the marketplace via the usage of verifiable credentials.
The main functionalities provided are the following:</p><ul><li>Create a permissions entry - <code>POST /api/v1/permissions</code></li><li>Get the information about a permissions entry - <code>GET /api/v1/permissions/{permissionId}</code></li><li>Get all the permissions of a user - <code>GET /api/v1/permissions/user/{userId}</code></li><li>Get all the permissions of a user of a specific type - <code>GET /api/v1/permissions/user/{userId}/{type}</code></li><li>Update the permissions entry - <code>PUT /api/v1/permissions/{permissionId}</code></li><li>Disable a permissions entry - <code>DELETE /api/v1/permissions/{permissionId}</code></li></ul><p>The Creation, Read, Update and Deletion of permissions is authorized and <strong>only the application admin</strong> is allowed to do that action.</p><p>The model of this API is the following:</p><ul><li><code>id</code> - Unique identifier for the permissions entry</li><li><code>userId</code> - Unique identifier of the user</li><li><code>type</code> - The list of permissions owned hold by the user</li><li><code>issuer</code> - The account providing the permissions</li><li><code>holder</code> - The public address holding the permissions</li><li><code>issuanceDate</code> - When the permissions entry was created</li></ul><p>Here an example of the the permissions document:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;permissionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;98it403-295-43954-3s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jifdwqejidqwa9okdasodkaso&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;read&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;update&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;delete&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x610D9314EDF2ced7681BA1633C33fdb8cF365a12&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;holder&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x37BB53e3d293494DE59fBe1FF78500423dcFd43B&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;issuanceDate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-01-01T19:73:24Z&quot;</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example when we want to provide a whitelisting functionality allowing to <code>mint</code> only to certain users, a specific <code>type</code> attribute could be created
in the user who will hold the minting permissions. Having that a client application could check if a specific user has <code>mint</code> permissions running the following query:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP GET /api/v1/permissions/user/jifdwqejidqwa9okdasodkaso/mint</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="secondary-market">Secondary Market<a href="#secondary-market" class="hash-link" aria-label="Direct link to Secondary Market" title="Direct link to Secondary Market">​</a></h3><p>This module of the API allows the management of the Secondary Market transactions. The main functionalities provided are the following:</p><ul><li>Publish an asset in the secondary market - <code>POST /api/v1/agreement/secondary-market</code></li><li>Get details of an asset in the secondary market - <code>GET /api/v1/agreement/secondary-market/{id}</code></li><li>Update the details of an asset in the secondary market - <code>PUT /api/v1/agreement/secondary-market/{id}</code></li><li>Unpublish an asset in the secondary market - <code>DELETE /api/v1/agreement/secondary-market/{id}</code></li><li>Get a list of secondary market assets that match with the executed query - <code>POST ​/api​/v1​/agreement/secondary-market​/query</code></li></ul><p>The Creation, Update and Deletion of assets in the secondary market is authorized and <strong>only the asset owner or the application admin</strong> is allowed to do that action.</p><p>The model of this API is the following:</p><ul><li><code>id</code> - Unique identifier for the entry</li><li><code>serviceAgreementId</code> - Service Agreement Id</li><li><code>did</code> - The identifier of the asset</li><li><code>seller</code> - The account selling the asset</li><li><code>buyer</code> - The account buying the asset</li><li><code>createdAt</code> - When the entry was published in the secondary market</li><li><code>price</code> - The price amount of the price in the secondary market</li><li><code>tokenAddress</code> - The token (Native or ERC20) used</li><li><code>dynamicPricingAddress</code> - Contract address if the pricing is defined as dynamic (auctions, etc). If is <code>0x0</code> the price is fixed and uses the <code>price</code> attribute</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nfts-metadata">NFTs Metadata<a href="#nfts-metadata" class="hash-link" aria-label="Direct link to NFTs Metadata" title="Direct link to NFTs Metadata">​</a></h3><p>This module of the API allows the creation of metadata attached to a NFT. The main functionalities provided are the following:</p><ul><li>Create NFT Metadata of a new asset - <code>POST /api/v1/metadata/nft</code></li><li>Get the NFT Metadata of an asset - <code>GET /api/v1/metadata/nft/{did}</code></li><li>Update NFT Metadata of an asset - <code>PUT ​/api/v1/metadata/nft/{did}</code></li><li>Delete NFT Metadata - <code>DELETE ​/api/v1/metadata/nft/{did}</code></li></ul><p>The Marketplace API could use regular or inmutable storage for recording the NFT Metadata. If the storage is inmutable (IPFS, Filecoin, etc), the Update and Delete methods
will return a <code>HTTP 501 Not Implemented</code> error message will be returned.</p><p>The Creation, Update and Deletion of NFTs Metadata is authorized and <strong>only the asset owner</strong> is allowed to do that action.</p><p>The model of this API is the following:</p><ul><li><code>did</code> - The identifier of the asset</li><li><code>image</code> - The URL to the image associated to the NFT</li><li><code>name</code> - Name of the asset</li><li><code>description</code> - Description of the asset</li><li><code>external_url</code> - URL to the asset in a Nevermined ecosystem</li><li><code>animation_url</code> - A URL to a multi-media attachment for the item</li><li><code>youtube_url</code> - A URL to a YouTube video</li><li><code>seller_fee_basis_points</code> - Royalties for selling the NFT through a marketplace out of Nevermined (i.e OpenSea)</li><li><code>fee_recipient</code> - Address of the user receiving the royalties</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-generated-contents">User Generated Contents<a href="#user-generated-contents" class="hash-link" aria-label="Direct link to User Generated Contents" title="Direct link to User Generated Contents">​</a></h3><p>This module of the API allows the management of User Generated Contents (UGC) like user reviews. The main functionalities provided are the following:</p><ul><li>Create a user review - <code>POST /api/v1/ugc/reviews</code></li><li>Get a user review - <code>GET /api/v1/ugc/reviews/{id}</code></li><li>Get all the reviews associated to an asset - <code>GET /api/v1/ugc/asset/{did}</code></li><li>Update a review - <code>PUT /api/v1/ugc/reviews/{id}</code></li><li>Unpublish a review - <code>DELETE /api/v1/ugc/reviews/{id}</code></li></ul><p>The Creation, Update and Deletion of reviews is authorized and <strong>only the review owner and/or the application admin</strong> is allowed to do that action.</p><p>The model of this API is the following:</p><ul><li><code>id</code> - The identifier of the ugc content</li><li><code>did</code> - The identifier of the asset</li><li><code>owner</code> - The userId who created the review/rating</li><li><code>status</code> - Status of the UGC. Possible values: &quot;publised&quot;, &quot;unpublished&quot;, &quot;deleted&quot;, &quot;retired&quot;</li><li><code>title</code> - Title of the comment</li><li><code>description</code> - Description given by the user</li><li><code>rate</code> - Number indicating the rating (flexible dependening to the marketplace). Examples: number between 1 and 5, 1 and 10, 0 and 100, etc.</li><li><code>createdAt</code> - When the UGC was created</li><li><code>updatedAt</code> - When the UGC was udpated</li><li><code>moderatedBy</code> - If the content was moderated, who applied that moderation</li></ul><p>By default, only UGC reviews with the state set to &quot;published&quot; should be displayed/</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nfts-drops">NFTs Drops<a href="#nfts-drops" class="hash-link" aria-label="Direct link to NFTs Drops" title="Direct link to NFTs Drops">​</a></h3><p>This module of the API allows the creation of metadata associated to NFT drops. Drops are an important event in NFT marketplaces where admins AND/OR whitelisted authors
can identify which NFTs are gonna be minted and when. The main functionalities provided are the following:</p><ul><li>Register a new NFT drop (admin or whitelisted author) - <code>POST /api/v1/metadata/drops</code></li><li>Search for listed drops - <code>GET /api/v1/metadata/drops</code></li><li>Get information about a drop - <code>GET /api/v1/metadata/drop/{did}</code></li><li>Update drop information - <code>PUT ​/api/v1/metadata/drop/{did}</code></li><li>Unlist a drop - <code>DELETE ​/api/v1/metadata/drop/{did}</code></li></ul><p>The Creation, Update and Deletion of a NFT Drop is authorized and <strong>only the asset owner and/or the application admin</strong> is allowed to do that action.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bookmarks">Bookmarks<a href="#bookmarks" class="hash-link" aria-label="Direct link to Bookmarks" title="Direct link to Bookmarks">​</a></h3><p>This module of the API allows users to bookmark marketplace contents. The main functionalities provided are the following:</p><ul><li>Create a bookmark entry - <code>POST /api/v1/ugc/bookmarks</code></li><li>Get a bookmark entry - <code>GET /api/v1/ugc/bookmarks/{id}</code></li><li>Get all the user bookmarks - <code>GET /api/v1/ugc/bookmarks/user/{userId}</code></li><li>Update an existing bookmark - <code>PUT /api/v1/ugc/bookmarks/{id}</code></li><li>Delete a bookmark - <code>DELETE /api/v1/ugc/bookmarks/{bookmarkId}</code></li></ul><p>The Creation, Update and Deletion of bookmarks is authorized and <strong>only the bookmark owner</strong> is allowed to do that action.</p><p>The model of this API is the following:</p><ul><li><code>id</code> - The identifier of the bookmark</li><li><code>did</code> - The identifier of the asset</li><li><code>userId</code> - The userId who created the bookmark</li><li><code>description</code> - Description given by the user</li><li><code>createdAt</code> - When the UGC was created</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="marketplace-management">Marketplace Management<a href="#marketplace-management" class="hash-link" aria-label="Direct link to Marketplace Management" title="Direct link to Marketplace Management">​</a></h3><ul><li>Unpublish multiple assets</li><li>Disable a user</li><li>Disable user comments</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multimedia">Multimedia<a href="#multimedia" class="hash-link" aria-label="Direct link to Multimedia" title="Direct link to Multimedia">​</a></h3><ul><li>URL Check - <code>GET /api/v1/files/check</code></li><li>Upload image - <code>POST /api/v1/files/image</code></li><li>Upload audio - <code>POST /api/v1/files/audio</code></li></ul><p><img loading="lazy" alt="Marketplace API Data Model" src="/assets/images/marketplace_api_data_model-c968eb665be31b173dbbe81d6f512aac.png" width="940" height="601" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-access-control">API Access Control<a href="#api-access-control" class="hash-link" aria-label="Direct link to API Access Control" title="Direct link to API Access Control">​</a></h3><p>The API will expose a <code>HTTP REST</code> interface using Json Web Tokens (JWT) for users authorization and authentication.</p><p>The API will use the following <code>JWT</code> attributes:</p><ul><li>Issuer (<code>iss</code>): the user address. For example: <code>0xa99d43d86a0758d5632313b8fa3972b6088a21bb</code></li><li>Subject (<code>sub</code>): the user address or the address of a delegate. For example: <code>0xa99d43d86a0758d5632313b8fa3972b6088a21bb</code></li><li>Issued at (<code>iat</code>): the date time of when the JWT token was issued</li><li>Expiration (<code>exp</code>): the expiration date time of the JWT token</li></ul><p>The API will define a TTL of a maximum of one hour duration.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h4><p>The client of the API will need to authenticate using <code>login</code> method. This method will require the client to provide to authenticate
the user. When the user is authenticated, the API will release a JWT allowing the user to interact with the different API modules.</p><p><img loading="lazy" alt="Marketplace API Access Control Flow" src="/assets/images/marketplace_api_access_control_flow-d6be05456dc44c1bb8e92edad58072b7.png" width="960" height="540" class="img_ev3q"></p><p>The flow is the following:</p><ol><li>The client sends a <code>HTTP GET /login</code> request providing the user address. Example:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP GET /api/v1/docs/auth/login/0xa99d43d86a0758d5632313b8fa3972b6088a21bb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li><p>The server will return a unique challenge token to the user</p></li><li><p>The client will sign locally this challenge token using the local key material</p></li><li><p>The client will send a <code>HTTP POST /login</code> request providing the user address and the challenge token signed</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP POST /api/v1/docs/auth/login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address=0xa99d43d86a0758d5632313b8fa3972b6088a21bb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signature=90f8bf6a479f320ead074411a4b0e7944ea8c9c15932c5d68a1b539da0b0f8431d8e50e1a5b2b3bd4cfdcfc387a5ff85d7ef5fac429c4e0e4c1bfc36d4a99770b58f42924e126ece</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>If the server can authenticate the user, it will return a JWT token</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;token&quot;: &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzUxMiJ9.eyJzdWIiOiIweDkwZjhiZjZhNDc5ZjMyMGVhZDA3NDQxMWE0YjBlNzk0NGVhOGM5YzEiLCJleHAiOjE0OTY1MDUwNzQsIm5iZiI6MTQ5NjUwMzI3NCwiaXNzIjoiTmV1ZnVuZCIsImF1ZCI6IndlYjMiLCJpYXQiOjE0OTY1MDMyNzR9.AaOPxTqBV4iy6GVlAu8XfbmOsIoezKfYjkqZ0SZ_RW6E7qwW-tUwSq8fq-avJrLtmCzLOD2xO9T5esEiIykP3Z9SAKWrTkdo9RwGcqGfvAySurbVAiFgW4MZ9pf9cHcB6zRks53pPcq6X2yqaVzjw28N6kBRQRc23GrUFnEDK6P_t3Tv&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>The user should be able to renew the authentication token passing the <code>Authorization</code> header to the <code>/renew</code> method:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP POST /api/v1/docs/auth/renew</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzUxMiJ9.eyJzdWIiOiIweDkwZjhiZjZhNDc5ZjMyMGVhZDA3NDQxMWE0YjBlNzk0NGVhOGM5YzEiLCJleHAiOjE0OTY1MDUwNzQsIm5iZiI6MTQ5NjUwMzI3NCwiaXNzIjoiTmV1ZnVuZCIsImF1ZCI6IndlYjMiLCJpYXQiOjE0OTY1MDMyNzR9.AaOPxTqBV4iy6GVlAu8XfbmOsIoezKfYjkqZ0SZ_RW6E7qwW-tUwSq8fq-avJrLtmCzLOD2xO9T5esEiIykP3Z9SAKWrTkdo9RwGcqGfvAySurbVAiFgW4MZ9pf9cHcB6zRks53pPcq6X2yqaVzjw28N6kBRQRc23GrUFnEDK6P_t3Tv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="authorization">Authorization<a href="#authorization" class="hash-link" aria-label="Direct link to Authorization" title="Direct link to Authorization">​</a></h4><p>Once the user is authenticated, the API will be able to authorize or not the user to perform different actions. Every document in the system has a
reference to the original public address owning the document. Depending on the module, actions like updating or deleting will require different permissions.</p><p>All the documents stored into the database will have a <code>verifiableCredential</code> entry witht the <code>holder</code> attribute attached to the document.
This attribute will allow to validate the owner of the metadata object and perform any authorization action.</p><p>For general permissions, the <code>Permissions</code> module will track what actions (described under the <code>type</code> attribute) are managed by each user.</p><p>The <code>admin</code> permissions can be added and are reserved for users with administrative permissions in the application.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage">Storage<a href="#storage" class="hash-link" aria-label="Direct link to Storage" title="Direct link to Storage">​</a></h3><p>The storage of the data can use a standard database and/or an inmutable respository (IPFS, Filecoin, Arweave, ..) as a complement.</p><p>Different storage backends provide a different set of functionalities to the final user. From one side, regular or standard databases provide
easy searching functionalities. In the other side, inmutable storage provide a level of trust on things like the assets metadata.</p><p>The usage of different storage backends or a combination of both will depend on the use case and/or the Marketplace API configuration.</p><p>All the documents stored in a regular database or search engine (like Elastic Search) will record the metadata in their current models are they are.
In the case this document has a mirror copy into a inmutable data store (like IPFS), the document will include a reference to
this inmutable content via a full URL. This typically will be stored into the <code>proof.immutableUrl</code> attribute.</p><p>For example if an Asset DDO has a copy into IPFS, it will include an attribute like this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DDOIntegritySignature&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2016-02-08T16:02:20Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;creator&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x00Bd138aBD70e2F00903268F3Db08f2D25677C9e&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;signatureValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xc9eeb2b8106e…6abfdc5d1192641b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;immutableUrl&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ipfs://QmPChd2hVbrJ6bfo3WBcTW4iZnpHm8TEzWkLHmLpXhF68A&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;checksum&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;0&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x52b5c93b82dd9e7ecc3d9fdf4755f7f69a54484941897dc517b4adfe3bbc3377&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;1&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x999999952b5c93b82dd9e7ecc3d9fdf4755f7f69a54484941897dc517b4adfe3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2><ul><li><a href="/docs/architecture/specs/Spec-DID">Decentralized Identifiers SPEC</a></li><li><a href="/docs/architecture/specs/Spec-METADATA">Metadata SPEC</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nevermined-io/docs/tree/main/docs/architecture/specs/Spec-MKT.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/architecture/specs/Spec-DTP"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data transfer proofs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/architecture/specs/Spec-IDM"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Identity management with on-chain access control</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#modules" class="table-of-contents__link toc-highlight">Modules</a><ul><li><a href="#assets-management" class="table-of-contents__link toc-highlight">Assets Management</a></li><li><a href="#assets-search" class="table-of-contents__link toc-highlight">Assets Search</a></li><li><a href="#users-profiles" class="table-of-contents__link toc-highlight">Users Profiles</a></li><li><a href="#permissions" class="table-of-contents__link toc-highlight">Permissions</a></li><li><a href="#secondary-market" class="table-of-contents__link toc-highlight">Secondary Market</a></li><li><a href="#nfts-metadata" class="table-of-contents__link toc-highlight">NFTs Metadata</a></li><li><a href="#user-generated-contents" class="table-of-contents__link toc-highlight">User Generated Contents</a></li><li><a href="#nfts-drops" class="table-of-contents__link toc-highlight">NFTs Drops</a></li><li><a href="#bookmarks" class="table-of-contents__link toc-highlight">Bookmarks</a></li><li><a href="#marketplace-management" class="table-of-contents__link toc-highlight">Marketplace Management</a></li><li><a href="#multimedia" class="table-of-contents__link toc-highlight">Multimedia</a></li><li><a href="#api-access-control" class="table-of-contents__link toc-highlight">API Access Control</a></li><li><a href="#storage" class="table-of-contents__link toc-highlight">Storage</a></li></ul></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/architecture">Architecture</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/nevermined-io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCaDKPgnEk4ekvQo2vO6FIBQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:info@nevermined.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><ul class="social-links">
                  <li>
                    <a href="https://discord.gg/GZju2qScKq" target="_blank" rel="noopener noreferrer">
                      <img src="/nevermined/discord.svg" alt="Discord" class="discord">
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/nevermined-io" target="_blank" rel="noopener noreferrer">
                      <img src="/nevermined/github.svg" alt="Github" class="github">
                    </a>
                  </li>
                  <li>
                    <a href="https://twitter.com/nevermined_io" target="_blank" rel="noopener noreferrer">
                      <img src="/nevermined/twitter.svg" alt="Twitter" class="twitter">
                    </a>
                  </li>
                  <li>
                    <a href="https://medium.com/nevermined-io" target="_blank" rel="noopener noreferrer">
                      <img src="/nevermined/medium.svg" alt="Medium" class="medium">
                    </a>
                  </li>
                </ul></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Nevermined AG.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6d8473ed.js"></script>
<script src="/assets/js/main.abf2f6bf.js"></script>
</body>
</html>