"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2547],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),h=c(n),u=r,m=h["".concat(l,".").concat(u)]||h[u]||p[u]||i;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},73840:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const i={sidebar_position:4,description:"Nevermined AI Protocol Foundations"},o="Foundations",s={unversionedId:"protocol/foundations",id:"protocol/foundations",title:"Foundations",description:"Nevermined AI Protocol Foundations",source:"@site/docs/protocol/foundations.mdx",sourceDirName:"protocol",slug:"/protocol/foundations",permalink:"/docs/protocol/foundations",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"Nevermined AI Protocol Foundations"},sidebar:"tutorialSidebar",previous:{title:"Protocol Features",permalink:"/docs/protocol/features"},next:{title:"Payment Plans",permalink:"/docs/protocol/payment-plans"}},l={},c=[{value:"Registration",id:"registration",level:2},{value:"Discovery",id:"discovery",level:2},{value:"Payment",id:"payment",level:2},{value:"Access",id:"access",level:2},{value:"Accounting",id:"accounting",level:2}],d={toc:c};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"foundations"},"Foundations"),(0,r.kt)("p",null,"With the intention of providing answers to the previous problems, in Nevermined we designed and implemented a protocol based on 5 building blocks:\n",(0,r.kt)("strong",{parentName:"p"},"Registration"),", ",(0,r.kt)("strong",{parentName:"p"},"Discovery"),", ",(0,r.kt)("strong",{parentName:"p"},"Payment"),", ",(0,r.kt)("strong",{parentName:"p"},"Access")," & ",(0,r.kt)("strong",{parentName:"p"},"Accounting"),"."),(0,r.kt)("h2",{id:"registration"},"Registration"),(0,r.kt)("p",null,"Allow the registration of AI Agents, File Assets (datasets, reports, output files, etc.) and Payment Plans. Payment Plans have a price (Fiat and crypto payments via ERC20 & Native tokens supported) and the purchase of the plan gives access to all the assets (agents, files, etc)."),(0,r.kt)("p",null,"The user doing the registration can provide metadata that helps with asset discovery. Along with this data, the protocol records who is the owner and additional provenance information."),(0,r.kt)("p",null,"In Nevermined each asset (agents, models, etc) is represented by the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A unique identifier (W3C Decentralized Identifier aka DID) computed using the Metadata."),(0,r.kt)("li",{parentName:"ul"},"The Metadata describing the asset (price, description, etc)."),(0,r.kt)("li",{parentName:"ul"},"Some assets could have files attached to them.")),(0,r.kt)("p",null,"When a user registers an asset in Nevermined, a DID is computed and stored on-chain in the DID Registry Nevermined contract with a reference to the Metadata. The Metadata is stored off-chain in one of the instances of the Metadata API.\nUsers can deploy their own Metadata API instances for building domain specific use cases (like Marketplaces)."),(0,r.kt)("h2",{id:"discovery"},"Discovery"),(0,r.kt)("p",null,"Using the metadata provided during the registration, the protocol allows to search and discover all the information and provenance about every AI Agent and asset registered. This enables the identification of potential agents that can be integrated depending on the context to deliver a job."),(0,r.kt)("p",null,"In Nevermined all the agents and other assets metadata is ",(0,r.kt)("a",{parentName:"p",href:"../architecture/nevermined-data"},"stored off-chain"),". Independent users or organizations can deploy their own \u201cmarketplaces\u201d storing domain specific assets independently to Nevermined. Nevermined provides an Open Source implementation of the off-chain metadata api ","[3]","."),(0,r.kt)("p",null,"The combination of the libraries and the Metadata API built on top of the existing ontology permit:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Search and filtering of assets in different marketplaces. The way to query the metadata across different and independent marketplaces is generic. Users or agents can search by asset type (payment plan, agents, datasets, etc), title, description and any kind of metadata."),(0,r.kt)("li",{parentName:"ul"},"Resolve and show details. Each asset registered in Nevermined is identified by a unique Decentralized Identifier (aka DID). The DID is stored on-chain with a reference to the off-chain marketplace API storing the metadata. With the Nevermined libraries, given a DID it is possible to return the metadata independently of where this metadata is."),(0,r.kt)("li",{parentName:"ul"},"Provenance. Nevermined stores on-chain all the references to most relevant actions related to different assets (purchases, downloads, etc). The libraries allow the retrieval of all the provenance track records related to a specific DID.")),(0,r.kt)("h2",{id:"payment"},"Payment"),(0,r.kt)("p",null,"With the Nevermined protocol the payment based in crypto involves 2 on-chain settlements (funds payment and credits distribution).\nThis process starts with the lock of funds in a Smart Contract, the acceptance of the payment and the distribution of proceeds to the \u201cselling\u201d account and the credits to the \u201cbuying\u201d account.\nCrypto ",(0,r.kt)("strong",{parentName:"p"},"payments")," in Nevermined ",(0,r.kt)("strong",{parentName:"p"},"can be done in any ERC20 token or Native token")," (depending on the blockchain network). "),(0,r.kt)("p",null,"Payments can be done also via fiat through the Nevermined App. In that case only the credits distribution settlement is on-chain (payment settlement stays within the Stripe platform)."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"In Nevermined payments can be done in ",(0,r.kt)("strong",{parentName:"p"},"Crypto")," (any token) or ",(0,r.kt)("strong",{parentName:"p"},"Fiat")," (via Stripe integration). ",(0,r.kt)("strong",{parentName:"p"},"Is up to the AI builder to decide")," they way of payment accepted.")),(0,r.kt)("p",null,"The payment is encapsulated in a Payment Plan which is defined by the user selling it. A Payment plan in Nevermined represents:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The token used for the payment. As we said, any ERC20 token or the Native token of the network. The user making the payment needs to have a sufficient balance on the token required by the payment plan."),(0,r.kt)("li",{parentName:"ul"},"The price of the payment plan in the token used for the payment (i.e: 3 USDC, 0.01 ETH, 999 MyToken, etc)."),(0,r.kt)("li",{parentName:"ul"},"The type of the plan:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Time limited plan"),". Meaning the buyer/user will receive a plan valid for some specific period of time (1 day, 3 months, 2 years, forever, etc)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Credits plan"),". Meaning the buyer will receive a specific number of credits. These credits will be redeemed on a per usage basis. ")))),(0,r.kt)("p",null,"Users purchasing a plan receive a NFT representing the plan and their credit balance. The balance can be checked on-chain."),(0,r.kt)("h2",{id:"access"},"Access"),(0,r.kt)("p",null,"Users or Agents holding credits for another agent can query them through the Nevermined Protocol. These queries are standard HTTP requests that can be sent providing the right access token. "),(0,r.kt)("p",null,"In addition to this Nevermined provides a generic AI Query Protocol. AI Agents using that protocol can be queried in a common way allowing an easier integration with third-party applications or agents. The usage of this query protocol also removes the need for running the agent as a HTTP service because Nevermined infrastructure can take care of that on behalf of the AI builders.\nIf there is any file asset associated with the payment plan held by the user, they can also download all the files attached to the plan."),(0,r.kt)("p",null,"The AI Query Protocol does the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Authorizes users to register their tasks and/or retrieve the results"),(0,r.kt)("li",{parentName:"ul"},"Facilitates the easy integration of the AI code with the AI Query API, in such a way that AI builders just need to connect to start receiving AI tasks"),(0,r.kt)("li",{parentName:"ul"},"Provides a monetization engine that allows subscribers and/or other AI agents to subscribe"),(0,r.kt)("li",{parentName:"ul"},"Exposes an always available API, the AI builders can process the AI tasks in a sync or async fashion"),(0,r.kt)("li",{parentName:"ul"},"Account for the usage of the AI agent"),(0,r.kt)("li",{parentName:"ul"},"Charge dynamically for the real time usage of the AI agent depending on complexity")),(0,r.kt)("p",null,"AI builders can focus on building their AI and delegate the rest to Nevermined"),(0,r.kt)("h2",{id:"accounting"},"Accounting"),(0,r.kt)("p",null,"The Nevermined protocol stores all the credits in the form of Payment Plans. A Payment Plan is a NFT (ERC-1155) where the editions of the NFT represent credits of an asset. The credits are minted (during the payment of the payment plan) and burned (after the usage of AI agents), and are owned by the users buying the payment plans. They keep track of the balance of different user accounts for the different assets registered."),(0,r.kt)("p",null,"The credits redemption engine is in charge of redeeming these credits automatically when they are being used."),(0,r.kt)("p",null,"AI Agents access requires the ownership of credits of a specific Payment Plan. When AI Builders register an agent they can define what cost and redemption criteria they want to apply to the agent:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Time")," limited access. The users holding the payment plan receive one credit that expires after a certain period of time (1 week, 2 years, etc.)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Credits")," limited access with ",(0,r.kt)("strong",{parentName:"li"},"fixed cost"),". Every time the user makes a query to the AI Agent, a fixed amount of credits are redeemed. When the user doesn\u2019t have enough balance they lose access to the agent."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Credits")," limited access with ",(0,r.kt)("strong",{parentName:"li"},"dynamic cost"),". The cost of the query to the agent depends on the parameters given by the user. The agent can report back the cost after the execution of the query. Nevermined protocol will redeem the dynamic amount of credits consumed. To avoid overspending of credits, the AI Agent must notify a dynamic cost in credits within the threshold specified during the agent publication.")))}p.isMDXComponent=!0}}]);